# Video Folder Duration (视频目录时长统计)

这是一个 Python 脚本，用于递归扫描指定文件夹及其子目录下的所有 MP4 视频文件，计算总时长，并生成层级结构的统计报告。

该工具旨在帮助用户快速了解大量视频教程、课程或素材在各个文件夹层级占用的时间长度。

## 功能特性

*   **递归统计**：自动遍历所有子文件夹。
*   **多线程加速**：使用并发处理快速读取视频元数据。
*   **智能合并**：如果某个父文件夹下仅含有一个子文件夹，会自动合并显示，保持目录树简洁。
*   **格式化输出**：自动省略为 0 的时间单位（如 "0分" 或 "0秒"），输出更加易读。
*   **双重输出**：结果同时在终端显示并保存为 Markdown 文件。

## 环境要求

*   Python 3.6+
*   moviepy

## 安装

1.  克隆或下载本仓库。
2.  安装依赖库：

    ```bash
    pip install moviepy
    ```

## 使用方法

### 方式一：命令行参数

在终端中运行脚本，并在后面跟上要扫描的目录路径：

```bash
python video_stats.py "D:\你的视频文件夹路径"
```

### 方式二：交互式输入

直接运行脚本，根据提示输入路径：

```bash
python video_stats.py
```

## 输出示例

脚本运行结束后，会在终端打印如下树状结构，并在同级目录下生成 `文件夹名时长统计.md` 文件：

```text
# 根目录  10小时 5分
## 第一章_基础  2小时 10分
### 1.1_介绍  45分 20秒
### 1.2_环境搭建  1小时 24分 40秒
## 第二章_进阶  7小时 55分
...
```

## 注意事项

*   **编码问题**：生成的 Markdown 报告使用 UTF-8 编码。如果在 Windows 记事本中打开显示乱码，请尝试使用 VS Code、Notepad++ 或其他支持 Markdown 预览的编辑器打开。
*   **支持格式**：目前脚本默认仅扫描 `.mp4` 文件。如果需要支持其他格式（如 `.mov`, `.avi`），请修改脚本代码中的筛选逻辑。

## 许可证

MIT License
